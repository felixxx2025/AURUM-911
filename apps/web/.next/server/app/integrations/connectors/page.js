(()=>{var e={};e.id=671,e.ids=[671],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3583:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.Z,__next_app__:()=>x,originalPathname:()=>c,pages:()=>d,routeModule:()=>p,tree:()=>o}),s(9363),s(3454),s(3805),s(2102),s(7824);var r=s(3282),a=s(5736),i=s(5055),n=s(6880),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);s.d(t,l);let o=["",{children:["integrations",{children:["connectors",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9363)),"/home/runner/work/AURUM-911/AURUM-911/apps/web/app/integrations/connectors/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,3454)),"/home/runner/work/AURUM-911/AURUM-911/apps/web/app/layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,3805)),"/home/runner/work/AURUM-911/AURUM-911/apps/web/app/error.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,2102)),"/home/runner/work/AURUM-911/AURUM-911/apps/web/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,7824,23)),"next/dist/client/components/not-found-error"]}],d=["/home/runner/work/AURUM-911/AURUM-911/apps/web/app/integrations/connectors/page.tsx"],c="/integrations/connectors/page",x={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/integrations/connectors/page",pathname:"/integrations/connectors",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},1647:(e,t,s)=>{Promise.resolve().then(s.bind(s,775))},1257:(e,t,s)=>{Promise.resolve().then(s.bind(s,9987))},1809:(e,t,s)=>{Promise.resolve().then(s.bind(s,5675)),Promise.resolve().then(s.bind(s,3470))},1212:(e,t,s)=>{Promise.resolve().then(s.bind(s,1840))},7571:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,4424,23)),Promise.resolve().then(s.t.bind(s,7752,23)),Promise.resolve().then(s.t.bind(s,5275,23)),Promise.resolve().then(s.t.bind(s,9842,23)),Promise.resolve().then(s.t.bind(s,1633,23)),Promise.resolve().then(s.t.bind(s,9224,23))},3245:()=>{},775:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(3227);function a({error:e,reset:t}){return r.jsx("html",{lang:"pt-BR",children:r.jsx("body",{children:r.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",children:(0,r.jsxs)("div",{className:"max-w-md w-full bg-white border rounded-lg shadow p-6",children:[r.jsx("h1",{className:"text-xl font-semibold mb-2",children:"Ocorreu um erro"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:e.message||"Algo inesperado aconteceu."}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx("button",{className:"border px-3 py-2 rounded",onClick:()=>t(),children:"Tentar novamente"}),r.jsx("button",{className:"border px-3 py-2 rounded",onClick:()=>window.location.href="/",children:"Voltar ao in\xedcio"})]})]})})})})}},9987:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(3227);function a({error:e,reset:t}){return r.jsx("html",{lang:"pt-BR",children:r.jsx("body",{children:r.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",children:(0,r.jsxs)("div",{className:"max-w-md w-full bg-white border rounded-lg shadow p-6",children:[r.jsx("h1",{className:"text-xl font-semibold mb-2",children:"Erro cr\xedtico"}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:e.message||"Falha fora do escopo da p\xe1gina."}),r.jsx("button",{className:"border px-3 py-2 rounded",onClick:()=>t(),children:"Tentar novamente"})]})})})})}},1840:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var r=s(3227),a=s(3677),i=s(5969),n=s(8693);async function l(e,t){let s=new TextEncoder,r=await crypto.subtle.importKey("raw",s.encode(e),{name:"HMAC",hash:"SHA-256"},!1,["sign"]);return Array.from(new Uint8Array(await crypto.subtle.sign("HMAC",r,s.encode(t)))).map(e=>e.toString(16).padStart(2,"0")).join("")}function o(){let[e,t]=(0,a.useState)("clicksign"),[s,o]=(0,a.useState)("changeme"),[d,c]=(0,a.useState)([]),[x,p]=(0,a.useState)(!1),[m,h]=(0,a.useState)(!1),[u,g]=(0,a.useState)("webhooks"),[b,f]=(0,a.useState)(null),[y,v]=(0,a.useState)(!1),[j,w]=(0,a.useState)(""),[N,P]=(0,a.useState)(null),[k,S]=(0,a.useState)(null),[U,A]=(0,a.useState)(""),[M,C]=(0,a.useState)(null),R=(0,a.useMemo)(()=>({type:"test.event",id:"evt-"+Math.random().toString(36).slice(2,8),data:{hello:"world"}}),[]),O=async()=>{p(!0);try{let t=Math.floor(Date.now()/1e3).toString(),r=`${t}.${JSON.stringify(R)}`,a=await l(s,r),i=`t=${t},v1=${a}`,n=await fetch(`/integrations/webhooks/${e}`,{method:"POST",headers:{"content-type":"application/json","x-aurum-signature":i},body:JSON.stringify(R)});await n.json(),await I()}finally{p(!1)}},I=async()=>{h(!0);try{let t=await fetch(`/integrations/webhooks/logs?provider=${e}&limit=50`),s=await t.json();c(s.items||[])}finally{h(!1)}},z=async()=>{v(!0);try{let e=await fetch("/integrations/webhooks/stats"),t=await e.json();f(t||null)}finally{v(!1)}};return(0,r.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Conectores"}),r.jsx("p",{className:"text-gray-600",children:"Aba de testes com Webhooks, E‑signature (Clicksign), PIX (Stripe) e Open Finance (Belvo)."})]}),r.jsx("div",{className:"mb-6 flex gap-2 border-b",children:[{id:"webhooks",label:"Webhooks"},{id:"esign",label:"Piloto E‑sign (Clicksign)"},{id:"pix",label:"Piloto PIX (Stripe)"},{id:"openfinance",label:"Open Finance (Belvo)"}].map(e=>r.jsx("button",{className:`px-3 py-2 text-sm border-b-2 ${u===e.id?"border-indigo-600 text-indigo-700":"border-transparent text-gray-600"}`,onClick:()=>g(e.id),children:e.label},e.id))}),"webhooks"===u&&(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:(()=>{let e=b?.providers||{},t=Object.values(e).reduce((e,t)=>({total:e.total+(t.total||0),verified:e.verified+(t.verified||0),unverified:e.unverified+(t.unverified||0)}),{total:0,verified:0,unverified:0});return[{label:"Eventos totais",value:t.total},{label:"Verificados",value:t.verified},{label:"N\xe3o verificados",value:t.unverified},{label:"Providers ativos",value:Object.keys(e).length}].map(e=>(0,r.jsxs)("div",{className:"bg-white shadow rounded-lg p-4",children:[r.jsx("div",{className:"text-xs text-gray-500",children:e.label}),r.jsx("div",{className:"mt-1 text-2xl font-semibold text-gray-900",children:y?"...":e.value})]},e.label))})()}),(0,r.jsxs)("div",{className:"bg-white shadow rounded-lg p-6 space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(n.II,{label:"Provider",value:e,onChange:e=>t(e.target.value),placeholder:"ex: clicksign, stripe, belvo, idwall"}),r.jsx(n.II,{label:"Webhook Secret (local)",value:s,onChange:e=>o(e.target.value),placeholder:"segredo para assinar payload"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx(i.zx,{onClick:O,loading:x,children:"Enviar teste"}),r.jsx(i.zx,{variant:"secondary",onClick:I,loading:m,children:"Atualizar logs"}),r.jsx(i.zx,{variant:"secondary",onClick:z,loading:y,children:"Atualizar KPIs"})]})]}),(0,r.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"KPIs por provider"}),r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{className:"text-left text-gray-500",children:[r.jsx("th",{className:"py-2 pr-4",children:"Provider"}),r.jsx("th",{className:"py-2 pr-4",children:"Total"}),r.jsx("th",{className:"py-2 pr-4",children:"Verificados"}),r.jsx("th",{className:"py-2 pr-4",children:"N\xe3o verificados"})]})}),(0,r.jsxs)("tbody",{children:[Object.entries(b?.providers||{}).map(([e,t])=>(0,r.jsxs)("tr",{className:"border-t",children:[r.jsx("td",{className:"py-2 pr-4 font-mono",children:e}),r.jsx("td",{className:"py-2 pr-4",children:t.total}),r.jsx("td",{className:"py-2 pr-4",children:t.verified}),r.jsx("td",{className:"py-2 pr-4",children:t.unverified})]},e)),0===Object.keys(b?.providers||{}).length&&r.jsx("tr",{className:"border-t",children:r.jsx("td",{className:"py-3 text-gray-500",colSpan:4,children:"Sem dados ainda."})})]})]})})]}),(0,r.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Logs recebidos"}),r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{className:"text-left text-gray-500",children:[r.jsx("th",{className:"py-2 pr-4",children:"ID"}),r.jsx("th",{className:"py-2 pr-4",children:"Quando"}),r.jsx("th",{className:"py-2 pr-4",children:"Provider"}),r.jsx("th",{className:"py-2 pr-4",children:"Verificado"}),r.jsx("th",{className:"py-2 pr-4",children:"Assinatura"})]})}),r.jsx("tbody",{children:d.map(e=>(0,r.jsxs)("tr",{className:"border-t",children:[r.jsx("td",{className:"py-2 pr-4 font-mono",children:e.id}),r.jsx("td",{className:"py-2 pr-4",children:new Date(e.receivedAt).toLocaleString()}),r.jsx("td",{className:"py-2 pr-4",children:e.provider}),r.jsx("td",{className:"py-2 pr-4",children:r.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${e.verified?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:String(e.verified)})}),r.jsx("td",{className:"py-2 pr-4 truncate max-w-[240px] font-mono",children:e.signature||"-"})]},e.id))})]})})]})]}),"esign"===u&&(0,r.jsxs)("div",{className:"bg-white shadow rounded-lg p-6 space-y-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Piloto E‑sign (Clicksign)"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:r.jsx(n.II,{label:"Document ID",value:j,onChange:e=>w(e.target.value),placeholder:"doc-123"})}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx(i.zx,{onClick:async()=>{let e=await fetch("/pilot/e-sign/clicksign/start",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({documentId:j||"doc-sample"})});P(await e.json())},children:"Iniciar assinatura"}),r.jsx(i.zx,{variant:"secondary",onClick:async()=>{if(!N?.id)return;let e=await fetch(`/pilot/e-sign/clicksign/${N.id}/status`);P(await e.json())},children:"Atualizar status"})]}),N&&r.jsx("pre",{className:"bg-gray-50 rounded p-3 text-xs overflow-auto",children:JSON.stringify(N,null,2)})]}),"pix"===u&&(0,r.jsxs)("div",{className:"bg-white shadow rounded-lg p-6 space-y-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Piloto PIX (Stripe)"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx(i.zx,{onClick:async()=>{let e=await fetch("/pilot/payments/stripe/pix-charge",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({amount:101,currency:"BRL"})});S(await e.json())},children:"Criar cobran\xe7a PIX"}),r.jsx(i.zx,{variant:"secondary",onClick:async()=>{if(!k?.id)return;let e=await fetch(`/pilot/payments/charge/${k.id}`);S(await e.json())},children:"Atualizar status"})]}),k&&r.jsx("pre",{className:"bg-gray-50 rounded p-3 text-xs overflow-auto",children:JSON.stringify(k,null,2)})]}),"openfinance"===u&&(0,r.jsxs)("div",{className:"bg-white shadow rounded-lg p-6 space-y-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Open Finance (Belvo)"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:r.jsx(n.II,{label:"User ID",value:U,onChange:e=>A(e.target.value),placeholder:"user-123"})}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx(i.zx,{onClick:async()=>{let e=await fetch("/pilot/open-finance/belvo/consent",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({userId:U||"user-sample"})});C(await e.json())},children:"Criar consentimento"}),r.jsx(i.zx,{variant:"secondary",onClick:async()=>{if(!M?.id)return;let e=await fetch(`/pilot/open-finance/consent/${M.id}`);C(await e.json())},children:"Atualizar status"})]}),M&&r.jsx("pre",{className:"bg-gray-50 rounded p-3 text-xs overflow-auto",children:JSON.stringify(M,null,2)})]})]})}},5675:(e,t,s)=>{"use strict";s.d(t,{default:()=>o});var r=s(3227),a=s(3448),i=s(4455),n=s(3677);let l=null;function o({children:e}){let[t]=(0,n.useState)(()=>l||(l=new a.S({defaultOptions:{queries:{retry:2,retryDelay:e=>Math.min(1e3*2**e,5e3),staleTime:3e4,gcTime:3e5,refetchOnReconnect:!0,refetchOnWindowFocus:!1},mutations:{retry:1,retryDelay:1e3}}})));return r.jsx(i.aH,{client:t,children:e})}},3470:(e,t,s)=>{"use strict";s.d(t,{default:()=>i});var r=s(3227),a=s(3677);function i(){let[e,t]=(0,a.useState)(!0);return e?null:r.jsx("div",{className:"w-full text-center text-sm bg-amber-100 text-amber-900 py-2",children:"Voc\xea est\xe1 offline. Tentaremos novamente quando a conex\xe3o voltar."})}},5969:(e,t,s)=>{"use strict";s.d(t,{zx:()=>i});var r=s(3227),a=s(1126);s(3677);let i=function({className:e,variant:t="primary",size:s="md",loading:i,children:n,disabled:l,...o}){return(0,r.jsxs)("button",{className:(0,a.W)("inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{"bg-blue-600 text-white hover:bg-blue-700 focus-visible:ring-blue-600":"primary"===t||"default"===t,"bg-gray-200 text-gray-900 hover:bg-gray-300 focus-visible:ring-gray-500 border border-gray-300":"secondary"===t||"outline"===t,"hover:bg-gray-100 focus-visible:ring-gray-500":"ghost"===t,"bg-red-600 text-white hover:bg-red-700 focus-visible:ring-red-600":"danger"===t||"destructive"===t,"h-8 px-3 text-sm":"sm"===s,"h-10 px-4 text-sm":"md"===s,"h-12 px-6 text-base":"lg"===s},e),disabled:l||i,...o,children:[i&&(0,r.jsxs)("svg",{className:"mr-2 h-4 w-4 animate-spin",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n]})}},8693:(e,t,s)=>{"use strict";s.d(t,{II:()=>i});var r=s(3227),a=s(1126);s(3677);let i=function({className:e,label:t,error:s,helperText:i,id:n,...l}){let o=n||`input-${Math.random().toString(36).substr(2,9)}`;return(0,r.jsxs)("div",{className:"space-y-1",children:[t&&r.jsx("label",{htmlFor:o,className:"block text-sm font-medium text-gray-700",children:t}),r.jsx("input",{id:o,className:(0,a.W)("block w-full rounded-md border-0 py-1.5 px-3 text-gray-900 shadow-sm ring-1 ring-inset placeholder:text-gray-400 focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6",s?"ring-red-300 focus:ring-red-600":"ring-gray-300 focus:ring-blue-600",e),...l}),s&&r.jsx("p",{className:"text-sm text-red-600",children:s}),i&&!s&&r.jsx("p",{className:"text-sm text-gray-500",children:i})]})}},3805:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(3189).createProxy)(String.raw`/home/runner/work/AURUM-911/AURUM-911/apps/web/app/error.tsx#default`)},5055:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(3189).createProxy)(String.raw`/home/runner/work/AURUM-911/AURUM-911/apps/web/app/global-error.tsx#default`)},9363:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(3189).createProxy)(String.raw`/home/runner/work/AURUM-911/AURUM-911/apps/web/app/integrations/connectors/page.tsx#default`)},3454:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o,metadata:()=>l});var r=s(9013);s(1);var a=s(3189);let i=(0,a.createProxy)(String.raw`/home/runner/work/AURUM-911/AURUM-911/apps/web/app/providers.tsx#default`),n=(0,a.createProxy)(String.raw`/home/runner/work/AURUM-911/AURUM-911/apps/web/components/NetworkBanner.tsx#default`),l={title:"AURUM - Plataforma de Gest\xe3o",description:"Plataforma SaaS multi-tenant para gest\xe3o de RH, finan\xe7as e mais"};function o({children:e}){return r.jsx("html",{lang:"pt-BR",children:r.jsx("body",{className:"font-sans antialiased",children:(0,r.jsxs)(i,{children:[r.jsx(n,{}),e]})})})}},2102:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(9013);function a(){return r.jsx("div",{className:"min-h-[40vh] flex items-center justify-center",children:r.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-gray-300 border-t-gray-600 rounded-full"})})}},1:()=>{},1126:(e,t,s)=>{"use strict";function r(){for(var e,t,s=0,r="",a=arguments.length;s<a;s++)(e=arguments[s])&&(t=function e(t){var s,r,a="";if("string"==typeof t||"number"==typeof t)a+=t;else if("object"==typeof t){if(Array.isArray(t)){var i=t.length;for(s=0;s<i;s++)t[s]&&(r=e(t[s]))&&(a&&(a+=" "),a+=r)}else for(r in t)t[r]&&(a&&(a+=" "),a+=r)}return a}(e))&&(r&&(r+=" "),r+=t);return r}s.d(t,{W:()=>r})}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[522,685],()=>s(3583));module.exports=r})();
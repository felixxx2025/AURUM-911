(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[941],{5939:function(e,t,r){Promise.resolve().then(r.bind(r,595))},595:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var s=r(7573),n=r(9585);let a=n.forwardRef(function(e,t){let{title:r,titleId:s,...a}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),r?n.createElement("title",{id:s},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}),i=n.forwardRef(function(e,t){let{title:r,titleId:s,...a}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},a),r?n.createElement("title",{id:s},r):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))});var o=r(590),l=r(8962),c=r(4012);function d(){let[e,t]=(0,n.useState)([]),[r,d]=(0,n.useState)(!0),[u,m]=(0,n.useState)("");(0,n.useEffect)(()=>{h()},[u]);let h=async()=>{try{d(!0);let e=await c.x.getPeople({page:1,pageSize:20,filter:u});t(e.data||[])}catch(e){console.error("Failed to load people:",e)}finally{d(!1)}};return(0,s.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsxs)("div",{className:"sm:flex sm:items-center",children:[(0,s.jsxs)("div",{className:"sm:flex-auto",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold leading-6 text-gray-900",children:"Colaboradores"}),(0,s.jsx)("p",{className:"mt-2 text-sm text-gray-700",children:"Lista de todos os colaboradores da empresa"})]}),(0,s.jsx)("div",{className:"mt-4 sm:ml-16 sm:mt-0 sm:flex-none",children:(0,s.jsxs)(o.z,{children:[(0,s.jsx)(a,{className:"h-4 w-4 mr-2"}),"Adicionar Colaborador"]})})]}),(0,s.jsx)("div",{className:"mt-6 max-w-md",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(i,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),(0,s.jsx)(l.I,{type:"text",placeholder:"Buscar colaboradores...",value:u,onChange:e=>m(e.target.value),className:"pl-10"})]})}),(0,s.jsx)("div",{className:"mt-8 flow-root",children:(0,s.jsx)("div",{className:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,s.jsx)("div",{className:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8",children:(0,s.jsx)("div",{className:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-300",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wide text-gray-500",children:"Nome"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wide text-gray-500",children:"Email"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wide text-gray-500",children:"Data de Cadastro"}),(0,s.jsx)("th",{className:"relative px-6 py-3",children:(0,s.jsx)("span",{className:"sr-only",children:"A\xe7\xf5es"})})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white",children:r?Array.from({length:5}).map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded animate-pulse"})})]},t)):0===e.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:4,className:"px-6 py-12 text-center text-sm text-gray-500",children:"Nenhum colaborador encontrado"})}):e.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,s.jsxs)("td",{className:"whitespace-nowrap px-6 py-4 text-sm font-medium text-gray-900",children:[e.first_name," ",e.last_name]}),(0,s.jsx)("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-500",children:e.email}),(0,s.jsx)("td",{className:"whitespace-nowrap px-6 py-4 text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString("pt-BR")}),(0,s.jsx)("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6",children:(0,s.jsx)(o.z,{variant:"ghost",size:"sm",children:"Editar"})})]},e.id))})]})})})})})]})}},590:function(e,t,r){"use strict";r.d(t,{z:function(){return i}});var s=r(7573),n=r(9585),a=r(607);let i=(0,n.forwardRef)((e,t)=>{let{className:r,variant:n="primary",size:i="md",loading:o,children:l,disabled:c,...d}=e;return(0,s.jsxs)("button",{className:(0,a.W)("inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{"bg-blue-600 text-white hover:bg-blue-700 focus-visible:ring-blue-600":"primary"===n,"bg-gray-200 text-gray-900 hover:bg-gray-300 focus-visible:ring-gray-500":"secondary"===n,"hover:bg-gray-100 focus-visible:ring-gray-500":"ghost"===n,"bg-red-600 text-white hover:bg-red-700 focus-visible:ring-red-600":"danger"===n,"h-8 px-3 text-sm":"sm"===i,"h-10 px-4 text-sm":"md"===i,"h-12 px-6 text-base":"lg"===i},r),disabled:c||o,ref:t,...d,children:[o&&(0,s.jsxs)("svg",{className:"mr-2 h-4 w-4 animate-spin",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l]})});i.displayName="Button"},8962:function(e,t,r){"use strict";r.d(t,{I:function(){return i}});var s=r(7573),n=r(9585),a=r(607);let i=(0,n.forwardRef)((e,t)=>{let{className:r,label:n,error:i,helperText:o,id:l,...c}=e,d=l||"input-".concat(Math.random().toString(36).substr(2,9));return(0,s.jsxs)("div",{className:"space-y-1",children:[n&&(0,s.jsx)("label",{htmlFor:d,className:"block text-sm font-medium text-gray-700",children:n}),(0,s.jsx)("input",{id:d,className:(0,a.W)("block w-full rounded-md border-0 py-1.5 px-3 text-gray-900 shadow-sm ring-1 ring-inset placeholder:text-gray-400 focus:ring-2 focus:ring-inset sm:text-sm sm:leading-6",i?"ring-red-300 focus:ring-red-600":"ring-gray-300 focus:ring-blue-600",r),ref:t,...c}),i&&(0,s.jsx)("p",{className:"text-sm text-red-600",children:i}),o&&!i&&(0,s.jsx)("p",{className:"text-sm text-gray-500",children:o})]})});i.displayName="Input"},4012:function(e,t,r){"use strict";r.d(t,{x:function(){return a}});let s=r(4859).env.NEXT_PUBLIC_API_URL||"http://localhost:3000";class n{setTenant(e){this.tenantId=e}setToken(e){this.token=e}getHeaders(){let e={"Content-Type":"application/json"};return this.tenantId&&(e["x-tenant-id"]=this.tenantId),this.token&&(e.Authorization="Bearer ".concat(this.token)),e}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="".concat(this.baseURL).concat(e),s=await fetch(r,{...t,headers:{...this.getHeaders(),...t.headers}});if(!s.ok)throw Error("API Error: ".concat(s.status," ").concat(s.statusText));return s.json()}async login(e){return this.request("/api/v1/auth/login",{method:"POST",body:JSON.stringify(e)})}async getPeople(e){let t=new URLSearchParams;return(null==e?void 0:e.page)&&t.set("page",e.page.toString()),(null==e?void 0:e.pageSize)&&t.set("pageSize",e.pageSize.toString()),(null==e?void 0:e.filter)&&t.set("filter",e.filter),this.request("/api/v1/hr/people?".concat(t))}async getPerson(e){return this.request("/api/v1/hr/people/".concat(e))}async createPerson(e){return this.request("/api/v1/hr/people",{method:"POST",body:JSON.stringify(e)})}async updatePerson(e,t){return this.request("/api/v1/hr/people/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async runPayroll(e){return this.request("/api/v1/hr/payroll/run",{method:"POST",body:JSON.stringify(e)})}async punchTime(e){return this.request("/api/v1/hr/time/punch",{method:"POST",body:JSON.stringify(e)})}constructor(e){this.tenantId=null,this.token=null,this.baseURL=e}}let a=new n(s)},4859:function(e,t,r){"use strict";var s,n;e.exports=(null==(s=r.g.process)?void 0:s.env)&&"object"==typeof(null==(n=r.g.process)?void 0:n.env)?r.g.process:r(9566)},9566:function(e){!function(){var t={229:function(e){var t,r,s,n=e.exports={};function a(){throw Error("setTimeout has not been defined")}function i(){throw Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var l=[],c=!1,d=-1;function u(){c&&s&&(c=!1,s.length?l=s.concat(l):d=-1,l.length&&m())}function m(){if(!c){var e=o(u);c=!0;for(var t=l.length;t;){for(s=l,l=[];++d<t;)s&&s[d].run();d=-1,t=l.length}s=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new h(e,t)),1!==l.length||c||o(m)},h.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw Error("process.chdir is not supported")},n.umask=function(){return 0}}},r={};function s(e){var n=r[e];if(void 0!==n)return n.exports;var a=r[e]={exports:{}},i=!0;try{t[e](a,a.exports,s),i=!1}finally{i&&delete r[e]}return a.exports}s.ab="//";var n=s(229);e.exports=n}()},607:function(e,t,r){"use strict";function s(){for(var e,t,r=0,s="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=function e(t){var r,s,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t){if(Array.isArray(t)){var a=t.length;for(r=0;r<a;r++)t[r]&&(s=e(t[r]))&&(n&&(n+=" "),n+=s)}else for(s in t)t[s]&&(n&&(n+=" "),n+=s)}return n}(e))&&(s&&(s+=" "),s+=t);return s}r.d(t,{W:function(){return s}})}},function(e){e.O(0,[293,528,744],function(){return e(e.s=5939)}),_N_E=e.O()}]);